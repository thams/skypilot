# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart

# May also want to make a mac-specific one for this given it will need
# 1. to use a specific conda environment so it doesn't trash the default one
# 2. to do the pip uninstall grpcio and conda install -c conda-forge grpcio=1.43.0
tasks:
  - init: |
      mkdir -p ~/miniconda3
      wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda3/miniconda.sh
      bash ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3
      rm -rf ~/miniconda3/miniconda.sh
      ~/miniconda3/bin/conda init bash
      ~/miniconda3/bin/conda init zsh
      source ~/.bashrc
      conda create -y -n sky python=3.8
      conda activate sky
      pip install .[aws] # - init: pip install ".[all]"